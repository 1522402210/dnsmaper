
    <html>
    <!--Generated By DNSMaper-->
      <head>
        <style>
        body { font-family: Helvetica; }
        .map-content h3 { margin: 0; padding: 5px 0 0 0; }
        </style>
        <script type="text/javascript" src="http://maps.googleapis.com/maps/api/js?sensor=true"></script>
        <script>
        // Set the Map variable
            var map;
            function initialize() {
                var myOptions = {
                zoom: 2,
                mapTypeId: google.maps.MapTypeId.ROADMAP
            };
            var MessAge="[{Ip:'96.7.93.15 Apple',Longitude:'-71.0843',Latitude:'42.3626'},{Ip:'17.151.5.9 Login',Longitude:'-122.0946',Latitude:'37.3042'},]"
                var all=eval(MessAge);
            var infoWindow = new google.maps.InfoWindow;
            map = new google.maps.Map(document.getElementById('map_canvas'), myOptions);
            // Set the center of the map
            var latitude=30.35;
            var longitude=114.17;
            var pos = new google.maps.LatLng(latitude, longitude);
            map.setCenter(pos);
            function infoCallback(infowindow, marker) {
                return function() {
                infowindow.open(map, marker);
            };
       }
       function setMarkers(map, all) {
        for (var i in all) {
                var ip 	    = all[i].Ip;
                var lat 	= all[i].Latitude;
                var lng 	= all[i].Longitude;
                for(var j=0;j<i;j++){
                if((all[j].Latitude == lat)||(all[j].Longitude == lng)){
                ip=ip+'<br/>'+all[j].Ip;
                }
                }
                var latlngset;
                latlngset = new google.maps.LatLng(lat, lng);
                var marker = new google.maps.Marker({
                  map: map,
                  position: latlngset
                });
                var content = '<div class="map-content">'+ ip+ '<br/><br/>'+'纬度:' +lat + '<br/>'+'经度:' + lng + '</div>';
                var infowindow = new google.maps.InfoWindow();
                  infowindow.setContent(content);
                  google.maps.event.addListener(
                    marker,
                    'click',
                    infoCallback(infowindow, marker)
                  );
              }
            }
            // Set all markers in the all variable
            setMarkers(map, all);
          };
          // Initializes the Google Map
          google.maps.event.addDomListener(window, 'load', initialize);
        </script>
      </head>
      <body>
        <div id="map_canvas" style="height: 610px; width: 1030px;"></div>
      </body>
    </html>
    